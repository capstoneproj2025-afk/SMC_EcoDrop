# 🆔 EcoDrop ID Number System

## Overview

The EcoDrop system uses custom ID formats for students and faculty members. IDs are **fully editable** and can be manually entered or auto-generated.

---

## 📚 Student ID Format

### Format: `C22-0369`

**Structure:**
- **C** = Class designation
- **22** = Year enrolled (2022 = `22`)
- **0369** = Sequential student number (4 digits, zero-padded)

### Examples:
```
C22-0001  → First student enrolled in 2022
C22-0369  → Student #369 from 2022
C23-0150  → Student #150 from 2023
C24-0001  → First student enrolled in 2024
C25-1234  → Student #1234 from 2025
```

### How to Assign:

#### **Option 1: Manual Entry (Recommended)**
1. Go to Django Admin → User Profiles
2. Click "Add user profile" or edit existing
3. Select **User Type:** Student
4. **Manually type** the ID in "Student id" field
5. Format: `C[YY]-[####]`
6. Save

#### **Option 2: Use Suggested ID**
1. Select **User Type:** Student
2. Look at the **"ID Generation Helper"** box
3. Copy the suggested ID (e.g., `C25-0042`)
4. Paste it in the "Student id" field
5. You can modify it if needed
6. Save

---

## 👨‍🏫 Faculty ID Format

### Format: `SMCIC-001-0001`

**Structure:**
- **SMCIC** = Institution identifier (St. Mary's College of Industrial Cooperative)
- **001** = Department number (3 digits, zero-padded)
- **0001** = Faculty sequential number (4 digits, zero-padded)

### Examples:
```
SMCIC-001-0001  → First faculty in Department 001
SMCIC-001-0025  → Faculty #25 in Department 001
SMCIC-002-0001  → First faculty in Department 002
SMCIC-015-0123  → Faculty #123 in Department 015
```

### Department Codes (Examples):
```
001 - General Administration
002 - Computer Science
003 - Engineering
004 - Business Administration
005 - Arts & Sciences
... (customize as needed)
```

### How to Assign:

#### **Option 1: Manual Entry (Recommended)**
1. Go to Django Admin → User Profiles
2. Click "Add user profile" or edit existing
3. Select **User Type:** Teacher
4. **Manually type** the ID in "Student id" field
5. Format: `SMCIC-[DDD]-[####]`
6. Save

#### **Option 2: Use Suggested ID**
1. Select **User Type:** Teacher
2. Look at the **"ID Generation Helper"** box
3. Copy the suggested ID (e.g., `SMCIC-001-0005`)
4. Paste it in the "Student id" field
5. **Modify the department number** if needed
6. Save

---

## 🔧 Admin Configuration

### Editable Fields in Admin:
✅ **Student ID** - Fully editable text field  
✅ **User Type** - Dropdown (Student, Teacher, Admin)  
✅ **Total Points** - Can be manually adjusted  
✅ **QR Code Data** - Legacy field, optional  

### Features:
- ✅ ID field is **NOT auto-generated by default**
- ✅ Admin has full control to enter any ID format
- ✅ Suggested IDs appear as helpers (optional to use)
- ✅ IDs must be unique across all users
- ✅ IDs can be searched in admin panel
- ✅ IDs appear in user list view

---

## 🎯 Usage Examples

### Example 1: New Student (2025 Enrollment)
```
Name: Juan Dela Cruz
Enrollment Year: 2025
Student Number: 450
User Type: Student
Student ID: C25-0450
```

### Example 2: New Faculty (Computer Science Department)
```
Name: Maria Santos
Department: Computer Science (Dept 002)
Faculty Number: 12
User Type: Teacher
Student ID: SMCIC-002-0012
```

### Example 3: Transfer Student with Existing ID
```
Name: Pedro Reyes
Old ID: C22-0155 (from 2022)
User Type: Student
Student ID: C22-0155  (keep original ID)
```

---

## 🔍 Validation Rules

### Student IDs:
- ✅ Format: `C[YY]-[####]` (e.g., C22-0369)
- ✅ Must be unique
- ✅ Can contain any valid characters (admin decides)
- ✅ Recommended: Stick to format for consistency

### Faculty IDs:
- ✅ Format: `SMCIC-[DDD]-[####]` (e.g., SMCIC-001-0001)
- ✅ Must be unique
- ✅ Can contain any valid characters (admin decides)
- ✅ Recommended: Use department codes consistently

### General:
- ✅ Maximum 50 characters
- ✅ Cannot be duplicate across all users
- ✅ Can be blank (optional) if user doesn't need an ID
- ✅ Searchable in admin panel

---

## 📋 Suggested ID Generator

The system includes **optional** ID generators:

### For Students:
```python
UserProfile.generate_student_id()
# Returns: C25-0001 (for current year, next available number)

UserProfile.generate_student_id(year=22)
# Returns: C22-0370 (for specific year, next available number)
```

### For Faculty:
```python
UserProfile.generate_faculty_id()
# Returns: SMCIC-001-0006 (next available number)
```

**Note:** These are helpers only. Admins can ignore them and enter any ID manually.

---

## 🎓 Best Practices

### 1. **Consistency**
- Stick to the format: `C[YY]-[####]` for students
- Stick to the format: `SMCIC-[DDD]-[####]` for faculty

### 2. **Year Codes**
- Use actual enrollment year: 2022 → `22`, 2025 → `25`
- Don't skip years unnecessarily

### 3. **Sequential Numbers**
- Keep student numbers sequential within each year
- Example: C25-0001, C25-0002, C25-0003...

### 4. **Department Codes**
- Document your department codes
- Be consistent across all faculty members

### 5. **No Duplicates**
- Always check if an ID already exists before assigning
- The system will prevent duplicates automatically

---

## 🛠️ Technical Details

### Database Field:
```python
student_id = models.CharField(
    max_length=50, 
    unique=True,  # Enforces uniqueness
    blank=True,   # Can be empty
    null=True,    # Can be NULL in database
    help_text="Student: C22-0369 | Faculty: SMCIC-001-0001 | Editable"
)
```

### Auto-Generation (Disabled by Default):
The system can auto-generate IDs, but this is **disabled by default**. To enable:

Edit `core/models.py`, in the `UserProfile.save()` method:
```python
# Uncomment these lines to enable auto-generation:
# self.student_id = self.generate_student_id()      # For students
# self.student_id = self.generate_faculty_id()      # For faculty
```

---

## ❓ FAQ

### Q: Can I use a different format?
**A:** Yes! The ID field accepts any text up to 50 characters. The formats above are recommendations.

### Q: What if I don't want to assign IDs?
**A:** IDs are optional. You can leave the field blank.

### Q: Can I change an ID after creation?
**A:** Yes! Go to the admin panel and edit the user profile. The ID field is fully editable.

### Q: What happens if I try to use a duplicate ID?
**A:** The system will show an error and prevent saving. Each ID must be unique.

### Q: Can students and faculty have the same ID number?
**A:** No, IDs must be unique across ALL users (students, faculty, admins).

### Q: How do I search by ID?
**A:** In the admin panel, use the search box. It searches usernames, emails, and student IDs.

---

## 📞 Support

For questions or issues with the ID system:
1. Check this guide first
2. Review the admin panel "ID Generation Helper"
3. Contact system administrator

---

**Last Updated:** October 2025  
**System Version:** EcoDrop v1.0
